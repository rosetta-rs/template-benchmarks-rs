# Rust template engine benchmarks

This repo tries to assess Rust template engine performance. Following the
download ratings from [crates.io][crates], these nine projects are assessed:

- [write!][write]: the std library `write!` macro
- [Handlebars][handlebars]: Handlebars templating implemented in Rust
- [Tera][tera]: template engine based on Jinja2/Django templates
- [Liquid][liquid]: the liquid templating language for Rust
- [Askama][askama]: type-safe, compiled Jinja-like templates for Rust
- [horrorshow][horrorshow]: a templating library written in rust macros
- [ructe][ructe]: Rust Compiled Templates, efficient type-safe web page templates
- [fomat][fomat]: alternative syntax for print/write/format-like macros with a small templating language
- [markup][markup]: A blazing fast, type-safe template engine for Rust
- [maud][maud]: A Compile-time HTML template engine for Rust
- [sailfish][sailfish]: Simple, small, and extremely fast template engine for Rust
- [nate][nate]:  Not a Template Engine for Rust

[crates]: https://crates.io/categories/template-engine
[write]: https://doc.rust-lang.org/std/macro.write.html
[handlebars]: https://github.com/sunng87/handlebars-rust
[tera]: https://github.com/Keats/tera
[liquid]: https://github.com/cobalt-org/liquid-rust
[askama]: https://github.com/djc/askama
[ructe]: https://github.com/kaj/ructe
[horrorshow]: https://github.com/Stebalien/horrorshow-rs
[fomat]: https://github.com/krdln/fomat-macros
[markup]: https://github.com/utkarshkukreti/markup.rs
[sailfish]: https://github.com/Kogia-sima/sailfish
[maud]: https://github.com/lambda-fairy/maud
[nate]: https://github.com/Kijewski/nate

## Results

These results are from 2021-01-07 (rustc 1.57.0), running on an
AMD Ryzen 7 2700X CPU. Your mileage may vary.

As a [violin plot] generated by [Criterion]:

![Big table violin plot](big-table.svg)
![Teams violin plot](teams.svg)

[violin plot]: https://en.wikipedia.org/wiki/Violin_plot
[Criterion]: https://japaric.github.io/criterion.rs/

Numbers, as output by Criterion:

```
Big table/Askama        time:   [451.63 us 459.44 us 467.85 us]
Big table/fomat         time:   [198.43 us 199.39 us 200.57 us]
Big table/Handlebars    time:   [4.7257 ms 4.7656 ms 4.8081 ms]
Big table/Horrorshow    time:   [245.01 us 247.48 us 250.19 us]
Big table/Liquid        time:   [6.0597 ms 6.1145 ms 6.1721 ms]
Big table/Markup        time:   [63.285 us 63.503 us 63.737 us]
Big table/Maud          time:   [207.25 us 212.61 us 219.06 us]
Big table/Nate          time:   [294.42 us 302.24 us 310.31 us]
Big table/Ructe         time:   [411.62 us 425.97 us 439.24 us]
Big table/Sailfish      time:   [26.787 us 27.064 us 27.361 us]
Big table/Tera          time:   [1.5780 ms 1.5924 ms 1.6062 ms]
Big table/write         time:   [270.48 us 277.73 us 285.74 us]

Teams/Askama            time:   [672.28 ns 679.19 ns 686.21 ns]
Teams/fomat             time:   [322.33 ns 323.39 ns 324.60 ns]
Teams/Handlebars        time:   [4.8353 us 4.8524 us 4.8711 us]
Teams/Horrorshow        time:   [400.64 ns 405.60 ns 411.49 ns]
Teams/Liquid            time:   [7.3992 us 7.4293 us 7.4616 us]
Teams/Markup            time:   [106.34 ns 107.42 ns 108.82 ns]
Teams/Maud              time:   [241.73 ns 248.72 ns 255.38 ns]
Teams/Nate              time:   [641.48 ns 648.64 ns 656.94 ns]
Teams/Ructe             time:   [679.08 ns 683.89 ns 690.18 ns]
Teams/Sailfish          time:   [67.218 ns 67.438 ns 67.729 ns]
Teams/Tera              time:   [5.4014 us 5.4275 us 5.4665 us]
Teams/write             time:   [531.94 ns 535.31 ns 539.20 ns]
```

## Running the benchmarks

```bash
$ cargo bench
```

Plots will be rendered if `gnuplot` is installed and will be available in the
`target/criterion` folder.
